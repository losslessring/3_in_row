(this.webpackJsonp3_in_row=this.webpackJsonp3_in_row||[]).push([[0],{18:function(t,e,n){},19:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),c=n(8),s=n.n(c),a=(n(18),n(19),n(1)),i=n(3),l=n(9),u=n(10),f=n(6),p=n(13),h=n(12),d=n(0);function b(t){return Object(d.jsx)("div",{className:t.color,onClick:function(){t.changeColor(t.index)}})}var j=function(t){return function(e){return function(n){return n.reduce((function(n,r,o){if(0===o)return n.push([r]),n;var c=n[n.length-1][n[n.length-1].length-1][e];return t(c,r[e])?n[n.length-1].push(r):n.push([r]),n}),[])}}},g=n(11),x=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n,r=Object(g.a)(e);try{for(r.s();!(n=r.n()).done;){t=(0,n.value)(t)}}catch(o){r.e(o)}finally{r.f()}return t}},v=function(t){return t.flat()},C=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(t){var r;return Object(l.a)(this,n),(r=e.call(this,t)).changeColor=r.changeColor.bind(Object(f.a)(r)),r.state={clicksCounter:0,swapFirst:null,swapSecond:null,cells:r.generateField(r.props.x,r.props.y,r.props.colors),style:{display:"grid",gridTemplateRows:"repeat(".concat(r.props.x,", 100px)"),gridTemplateColumns:"repeat(".concat(r.props.y,", 100px)"),justifyItems:"center",border:"5px solid #a8b1bb",color:"#ffffff",backgroundColor:"lightGrey",gap:"10px"}},console.log(r.state.cells),r}return Object(u.a)(n,[{key:"resetClicksCounter",value:function(){this.state.clicksCounter>1&&this.setState({clicksCounter:0})}},{key:"swapColors",value:function(){var t=this,e=Object(i.a)(this.state.cells),n=Object(a.a)(Object(a.a)({},e[this.state.swapFirst.index]),{},{color:this.state.swapSecond.color}),r=Object(a.a)(Object(a.a)({},e[this.state.swapSecond.index]),{},{color:this.state.swapFirst.color});e[this.state.swapFirst.index]=n,e[this.state.swapSecond.index]=r,this.setState({cells:e},(function(){var e,n=x(j((function(t,e){return t===e}))("y"),(e=function(t){return function(t){var e=t.filter((function(t){return t.length>=3})).map((function(t){return t.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{color:"Empty"})}))})),n=t.filter((function(t){return t.length<3}));return[].concat(Object(i.a)(e.flat()),Object(i.a)(n.flat()))}(j((function(t,e){return t===e}))("color")(t))},function(t){return t.map(e)}),v,function(t){return function(e){return e.sort(t)}}((function(t,e){return t.index-e.index})))(t.state.cells);t.setState({cells:n})}))}},{key:"changeColor",value:function(t){var e=this;this.setState({clicksCounter:this.state.clicksCounter+1},(function(){e.resetClicksCounter(),1===e.state.clicksCounter&&e.setState({swapFirst:e.state.cells[t]}),2===e.state.clicksCounter&&e.setState({swapSecond:e.state.cells[t]},e.swapColors)}))}},{key:"generateField",value:function(t,e,n){for(var r=[],o=0,c=0;o<t;o++)for(var s=0;s<e;s++)r.push({x:s,y:o,color:this.getRandomItem(n),index:c}),c++;return r}},{key:"getRandomItem",value:function(t){return t[Math.floor(Math.random()*t.length)]}},{key:"render",value:function(){var t=this;return Object(d.jsx)("div",{style:this.state.style,children:this.state.cells.map((function(e){return Object(d.jsx)(b,{index:e.index,color:e.color,changeColor:t.changeColor},e.index)}))})}}]),n}(r.Component);var y=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(C,{x:5,y:5,colors:["Red","Green","Blue"]})})};s.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.529b1936.chunk.js.map